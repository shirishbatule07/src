<div class="row page-header ">
  <div class="col">
    <h5>{{ cardTitle }}</h5>
  </div>
 
</div>
<div class="row container-white-box spacing-20">
  <div class="col-xl-12 col-md-12 px-0">
    <app-loader [isLoading]="isLoading"></app-loader>
    <div *ngIf="isValidCompany; else elseBlock">
      <form (ngSubmit)="saveCompany(false)" [formGroup]="companyForm" novalidate>
        <div class="row">
          <div class="col-xl-6 col-md-6 pl-sm-3">
            <div class="form-group w-100 row">
              <label class="form-control-label required col-sm-5" for="companyName">{{ displayText.company+ ' '+ displayText.name  }}</label>
              <div class=" col-sm-7">
                <input autocomplete="off" maxlength="100"
                  [ngClass]="{ 'is-invalid': !companyForm.controls.companyName.valid && isSubmit }"
                  class="form-control form-control-sm " id="companyName" formControlName="companyName" name="companyName" type="text"
                  [placeholder]="displayText.company+ ' '+ displayText.name " required />
                <label *ngIf="!companyForm.controls.companyName.valid && isSubmit"
                  class="invalid-feedback">{{ displayText.thisFieldIsRequired }}</label>
              </div>
            </div>
          </div>
          <div class="col-xl-6 col-md-6 pl-sm-3">
            <div class="form-group w-100 row">
              <label class="form-control-label required col-sm-4" for="contactNumber">{{ displayText.contactNumber}}</label>
              <div class="input-group col-sm-8">
                <input autocomplete="off" class="form-control form-control-sm" maxlength="10" id="contactNumber"
                  formControlName="contactNumber" name="contactNumber" type="text"
                  [ngClass]="{ 'is-invalid': !companyForm.controls.contactNumber.valid && isSubmit }"
                  [placeholder]="displayText.contactNumber" numeric required />
                  <label *ngIf="!companyForm.controls.contactNumber.valid && isSubmit"
                  class="invalid-feedback">{{ displayText.thisFieldIsRequired }}</label>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xl-6 col-md-6 pl-sm-3">
            <div class="form-group w-100 row">
              <label class="form-control-label required col-sm-5" for="email">{{ displayText.email  }}</label>
              <div class=" col-sm-7">
                <input autocomplete="off" maxlength="100"
                  [ngClass]="{ 'is-invalid': !companyForm.controls.email.valid && isSubmit }"
                  class="form-control form-control-sm " id="email" formControlName="email" name="email" type="text"
                  [placeholder]="displayText.email" required />
                <label *ngIf="!companyForm.controls.email.valid && isSubmit"
                  class="invalid-feedback">{{ displayText.thisFieldIsRequired }}</label>
              </div>
            </div>
          </div>
          <div class="col-xl-6 col-md-6 pl-sm-3">
            <div class="form-group w-100 row">
              <label class="form-control-label col-sm-4" for="alternateNumber">{{ displayText.alternateNumber}}</label>
              <div class="input-group col-sm-8">
                <input autocomplete="off" class="form-control form-control-sm" maxlength="10" id="alternateNumber"
                  formControlName="alternateNumber" name="alternateNumber" type="text"
                  [placeholder]="displayText.alternateNumber" numeric  />
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xl-6 col-md-6 pl-sm-3">
            <div class="form-group w-100 row">
              <label class="form-control-label required col-sm-5" for="city">{{ displayText.city  }}</label>
              <div class=" col-sm-7">
                <input autocomplete="off" maxlength="100"
                  [ngClass]="{ 'is-invalid': !companyForm.controls.city.valid && isSubmit }"
                  class="form-control form-control-sm " id="city" formControlName="city" name="city" type="text"
                  [placeholder]="displayText.city" required />
                <label *ngIf="!companyForm.controls.city.valid && isSubmit"
                  class="invalid-feedback">{{ displayText.thisFieldIsRequired }}</label>
              </div>
            </div>
          </div>
          <div class="col-xl-6 col-md-6 pl-sm-3">
            <div class="form-group w-100 row">
             
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xl-6 col-md-6 pl-sm-3">
            <div class="form-group w-100 row">
              <label class="form-control-label required col-sm-5" for="pincode">{{ displayText.pinCode  }}</label>
              <div class=" col-sm-7">
                <input autocomplete="off" maxlength="100"
                  [ngClass]="{ 'is-invalid': !companyForm.controls.pincode.valid && isSubmit }"
                  class="form-control form-control-sm " id="pincode" formControlName="pincode" name="pincode" type="text"
                  [placeholder]="displayText.pinCode" required />
                <label *ngIf="!companyForm.controls.pincode.valid && isSubmit"
                  class="invalid-feedback">{{ displayText.thisFieldIsRequired }}</label>
              </div>
            </div>
          </div>
          <div class="col-xl-6 col-md-6 pl-sm-3">
            <div class="form-group w-100 row">
              <label class="form-control-label  col-sm-5" for="pincode">{{ displayText.companyPrimeImageLogo  }}</label>
              <div class="profile-img-container">
                <!-- <div class="profile-img-controls">
                  <span (click)="img.click()" class="h3 p-2 feather icon icon-edit-2 float-left"></span>
                  <span (click)="clearImg()" class="h3 p-2 feather icon icon-trash-2 float-right"></span>
                </div> -->
                <!-- <div class="upload-image">
                  <img class="profile-img" [src]="icon || 'assets/images/no-image-available.png'" alt="dashboard-user" />
                </div> -->
                <input #img type="file" accept=".png, .jpg, .jpeg" (input)="onFileChange($event.target.files)"  />
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <!-- <div class="col-xl-12 col-md-12 "> -->
            <div class="col-sm-2">
              <label class="form-control-label offset-md-1 form-group" for="coDetailInfo">{{ displayText.coDetailInfo  }}</label>
            </div>
              <div class=" col-sm-10">
                <textarea formControlName="coDetailInfo" class="form-control form-group " style="margin-left: 5.5%; width: 93%;" placeholder="{{ displayText.coDetailInfo }} ..." rows="3"></textarea>
                
            
            <!-- </div> -->
          </div>
         
        </div>
        <div class="row"> 

        </div>
        <div class="row">
          <!-- <div class="col-xl-12 col-md-12 "> -->
            <div class="col-sm-2">
              <label class="form-control-label offset-md-1 form-group" for="operationatimeworkingday">{{ displayText.operationatimeworkingday  }}</label>
            </div>
              <div class=" col-sm-10">
                <textarea formControlName="operationatimeworkingday" class="form-control form-group " style="margin-left: 5.5%; width: 93%;" placeholder="{{ displayText.coDetailInfo }} ..." rows="3"></textarea>
                
            
            <!-- </div> -->
          </div>
         
        </div>
        <div class="row">
          <div class="col-xl-6 col-md-6 pl-sm-3">
            <div class="form-group w-100 row">
              <label class="form-control-label required col-sm-5" for="yearofestablish">{{ displayText.yearOfEstablishment  }}</label>
              <div class=" col-sm-7">
                <input autocomplete="off" maxlength="100"
                  [ngClass]="{ 'is-invalid': !companyForm.controls.yearofestablish.valid && isSubmit }"
                  class="form-control form-control-sm " id="yearofestablish" formControlName="yearofestablish" name="yearofestablish" type="text"
                  [placeholder]="displayText.yearOfEstablishment " required />
                <label *ngIf="!companyForm.controls.yearofestablish.valid && isSubmit"
                  class="invalid-feedback">{{ displayText.thisFieldIsRequired }}</label>
              </div>
            </div>
          </div>
          <div class="col-xl-6 col-md-6 pl-sm-3">
            <div class="form-group w-100 row">
              <label class="form-control-label  col-sm-4" for="modeofpayment">{{ displayText.modeOfPayment }}</label>
              <div class=" col-sm-8">
                <ng-select [selectOnTab]="true" 
                  [ngClass]="{ 'is-invalid': !companyForm.controls.modeofpayment.valid && isSubmit  }"
                  formControlName="modeofpayment" [items]="modeOfPayment" [placeholder]="displayText.modeOfPayment"
                  required>
                </ng-select>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xl-6 col-md-6 pl-sm-3">
            <div class="form-group w-100 row">
              <label class="form-control-label  col-sm-5" for="wesiteurl">{{ displayText.websiteURL  }}</label>
              <div class=" col-sm-7">
                <input autocomplete="off" maxlength="100"
                  [ngClass]="{ 'is-invalid': !companyForm.controls.wesiteurl.valid && isSubmit }"
                  class="form-control form-control-sm " id="wesiteurl" formControlName="wesiteurl" name="wesiteurl" type="text"
                  [placeholder]="displayText.websiteURL"  />
            
              </div>
            </div>
          </div>
          <div class="col-xl-6 col-md-6 pl-sm-3">
            <div class="form-group w-100 row">
              <label class="form-control-label  col-sm-4" for="googlemap">{{ displayText.googleMap  }}</label>
              <div class=" col-sm-8">
                <input autocomplete="off" maxlength="100"
                  [ngClass]="{ 'is-invalid': !companyForm.controls.googlemap.valid && isSubmit }"
                  class="form-control form-control-sm " id="googlemap" formControlName="googlemap" name="googlemap" type="text"
                  [placeholder]="displayText.googleMap"  />
              
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xl-8 col-md-4 pl-sm-3 offset-md-2 text-center">
            <button class="btn btn-sm btn-success " *ngIf="!this.isEditMode" (click)="saveCompany(true)" type="button">
              <i class="fa fa-file-medical"></i>{{ displayText.saveAndAddNew }}
            </button>
            <button class="btn btn-sm btn-success " type="submit">
              <i class="fa fa-save"></i>{{ displayText.save }}
            </button>
            <button (click)="onDiscard($event)" class="btn btn-sm border btn-danger ">
              <i class="fa fa-ban"></i>{{ displayText.discard }}
            </button>
          </div>
        </div>
      </form>
    </div>
    <ng-template #elseBlock>
      <div class="text-center">
        <h2 class="text-muted">{{ errorMessage }}</h2>
      </div>
    </ng-template>
  </div>
</div>
